<div class = "shares-new-form">
  <% if share.present? %>
    <%= form_for share, url: { action: 'create'} do |f| %>
      <%= f.fields_for share.detail do |ff| %>
        <div class = "form-group">
          <%= ff.label :facility_id %>
          <% pet&.facilities.each do |facility| %>
            <label><%= ff.radio_button :facility_id, facility.id %><%= facility.name %></label>
          <% end %>
        </div>
        <div class="row">
          <div class = "form-group col-sm-4 col-sm-offset-1">
            <div class="share-date-time">
              <input id="share_start" class="flatpickr" name="cg_share[cg_share_detail][start_val]" type="text" placeholder="シェア開始日時" readonly="readonly">
            </div>
          </div>
          <div class="col-sm-1">
            <h3>～</h3>
          </div>
          <div class = "form-group col-sm-4">
            <div class="share-date-time">
              <input id="share_end" class="flatpickr" name="cg_share[cg_share_detail][end_val]" type="text" placeholder="シェア終了日時" readonly="readonly">
            </div>
          </div>
        </div>
        <div class = "form-group">
          <%= ff.label :fixed_cost %>
          <%= ff.number_field :fixed_cost, class: 'form-control' %>
        </div>
        <div class = "form-group">
          <%= ff.label :variable_cost %>
          <%= ff.number_field :variable_cost, class: 'form-control' %>
        </div>
      <% end %>
      <div class="submit-area">
        <%= f.button type:'submit', class: 'submit-btn' do %>送信<% end %>
      </div>
    <% end %>
  <% end %>
  <script type="text/javascript">
    const config = {
      enableTime: true,
      dateFormat: "Y-m-d H:i",
    }
    flatpickr('.flatpickr', config);

    function parseForm(date){
      console.log(date);
    }
  </script>
</div>
